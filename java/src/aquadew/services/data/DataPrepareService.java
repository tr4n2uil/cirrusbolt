package aquadew.services.data;import java.util.Iterator;import org.json.JSONObject;import org.json.JSONArray;import org.json.XML;import snowblozm.interfaces.Service;import snowblozm.interfaces.Block;import snowblozm.interfaces.Sequence;import snowblozm.core.SBException;/** *	@class DataPrepareService *	@desc Prepares data as array from memory * *	@param data array Stream data [memory] * *	@author Vibhaj Rajan <vibhaj8@gmail.com> *	**/public class DataPrepareService implements Service {		/**	 *	@interface Service	**/	public Block input() throws SBException {		return new JSONObject();	}		/**	 *	@interface Service	**/	public Block run(Block memory) throws SBException {		Block result = new JSONObject();				Iterator it = memory.keys();		while(it.hasNext()){			String key = (String) it.next();			if(key.equalsIgnoreCase("service") || key.equalsIgnoreCase("args") || key.equalsIgnoreCase("strict"))				continue;			result.put(key, memory.get(key));		}				memory.put("result", result);		memory.put("valid", true);		memory.put("msg", "Valid Response Given");		memory.put("status", 200);		memory.put("details", "Successfully executed");		return memory;	}		/**	 *	@interface Service	**/	public Sequence output() throws SBException {		return new JSONArray("[\"result\"]");	}	}